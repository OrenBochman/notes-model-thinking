<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2023-08-12">

<title>Lesson 12 - Coordination and Culture – notes-model-thinking</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-d58cf0c17c84c672bbe6415fb2b2bd7c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>

      .quarto-title-block .quarto-title-banner {
        background-image: url(images/mt_seg_bg03.png);
background-size: cover;
      }
</style>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">notes-model-thinking</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page-left">
      <h1 class="title">Lesson 12 - Coordination and Culture</h1>
            <p class="subtitle lead">Model Thinking</p>
                                <div class="quarto-categories">
                <div class="quarto-category">model thinking</div>
                <div class="quarto-category">Coordination</div>
                <div class="quarto-category">Culture</div>
                <div class="quarto-category">Lyapunov function</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta column-page-left">

      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">August 12, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#sec-coordination-and-culture" id="toc-sec-coordination-and-culture" class="nav-link active" data-scroll-target="#sec-coordination-and-culture">Coordination and culture</a></li>
  <li><a href="#sec-what-is-culture-and-why-do-we-care" id="toc-sec-what-is-culture-and-why-do-we-care" class="nav-link" data-scroll-target="#sec-what-is-culture-and-why-do-we-care">What is culture and why do we care?</a></li>
  <li><a href="#sec-pure-coordination-game" id="toc-sec-pure-coordination-game" class="nav-link" data-scroll-target="#sec-pure-coordination-game">Pure coordination game</a></li>
  <li><a href="#sec-emergence-of-culture" id="toc-sec-emergence-of-culture" class="nav-link" data-scroll-target="#sec-emergence-of-culture">Emergence of culture</a></li>
  <li><a href="#sec-coordination-and-consistency" id="toc-sec-coordination-and-consistency" class="nav-link" data-scroll-target="#sec-coordination-and-consistency">Coordination and consistency</a>
  <ul class="collapse">
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block page-columns page-full column-page-left" id="quarto-document-content">





<section id="sec-coordination-and-culture" class="level2">
<h2 class="anchored" data-anchor-id="sec-coordination-and-culture">Coordination and culture</h2>
<p>Coordination is doing the same somebody else is doing. Culture refers to differences between groups of interacting people. In order to have these differences between groups of people, there have to be similarities within those groups. That is where coordination matters. Cultural behavior can be suboptimal in the sense of efficiency. Often it doesn’t make sense from the outsider’s perspective, but viewed from within that culture, it makes sense.</p>
<p>The pure coordination game that enables us to understand why people do the same thing, and why sometimes they do the same thing that is not optimal. In the context of this game, an important question is does the whole system coordinate if people are trying to coordinate? To understand that, the Lyapunov function can be used on a single coordination game on one behavior.</p>
<p>It is also possible to have a many-action coordination game on multiple behaviors. This can be used to explain cultural differences. In particular, <a href="https://en.wikipedia.org/wiki/Robert_Axelrod">Robert Axelrod</a> made a model that looks at how culture emerges, and why you might get thick boundaries between different cultures. There is also inconsistency within cultures. The coordination consistency model deals with both coordination between people and consistency within a person with the use of Markov processes.</p>
</section>
<section id="sec-what-is-culture-and-why-do-we-care" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="sec-what-is-culture-and-why-do-we-care">What is culture and why do we care?</h2>
<p>There are many definitions of culture. Culture is such a complex thing that no simple definition can capture it. Still, culture mattes a lot for the success of countries. Tylor, who is the father of modern cultural anthropology, said in 1871 that culture is the complex whole which includes knowledge, belief, art, law, morals and customs. Boas extended this in 1911 by calling culture the totality of mental and physical reactions and activities that characterize behavioral responses to environment, others and to the self.</p>
<p>Boas was the first to get the idea that there should be some consistency across these mental and physical reactions to the world. This consistency could be partly brought on with the environment or it could be socially constructed. These dry academic definitions don’t show exactly what culture is. Writers have also written definitions of culture, e.g.&nbsp;Calvin Trilling wrote in 1955:</p>
<blockquote class="blockquote">
<p>When we look at people in the degree of abstraction which the idea of culture implies, we cannot but be touched and impressed by what we see, we cannot help but be awed by something mysterious at work, some creative power that seems to transcend any particular act or habit or quality that may be observed. To make a coherent life, to confront the terrors of the outer and the inner world, to establish the ritual and art, the pieties and duties which make possible the life of the group and the individual - these are culture, and to contemplate these various enterprises which constitute a culture is inevitably moving.</p>
</blockquote>
<p>To make a coherent life refers to the idea of consistency. An essential reason for the existence of culture is to made possible the life of the group and the individual. In order for groups and individuals to function, they have to have some similarities within. They have to agree or coordinate on certain sets of behaviors, morals, laws, customs, and understandings, in order to confront the inner and outer world. The interesting thing about cultures is that people do this in different ways.</p>

<div class="no-row-height column-margin column-container"><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/mt_culture_survey.jpg" class="img-fluid figure-img"></p>
<figcaption>Culture dimensions</figcaption>
</figure>
</div></div><p>What could these differences be? And how extreme can these differences be? One way of figuring this out is doing experiments. The ultimatum game is an experiment that was done in different societies. Player 1 is given $10. Then player 1 is told to offer a split to player 2. The split might vary, e.g.&nbsp;$5 apiece, $2 for player 2 or even $0.01 for player 2. Player 2 can either accept or reject. If player 2 accepts the money, then they split it. If he rejects, they both get nothing.</p>
<p>Player 1 has to figure out what’s the minimum amount he can offer player 2 to get it accepted. People from different cultures didn’t play the game in the same way. One group were the Lamalera, who are Indonesian whale hunters that hunt collectively. Another group, the Machigenga, who are an Amazonian group that hunted individually and didn’t even use names, was much more selfish. On average the Lamalera offered $5.70, while the Machigenga offered $2.60.</p>

<div class="no-row-height column-margin column-container"><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/mt_sweden.jpg" class="img-fluid figure-img"></p>
<figcaption>Culture of individuals in Sweden</figcaption>
</figure>
</div><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/mt_zimbabwe.jpg" class="img-fluid figure-img"></p>
<figcaption>Culture of individuals in Zimbabwe</figcaption>
</figure>
</div></div>
<p><a href="https://en.wikipedia.org/wiki/Ronald_Inglehart">Ron Inglehart</a>, who spent decades surveying people all over the world doing something called the <a href="https://en.wikipedia.org/wiki/World_Values_Survey">World Value Survey</a>, constructed a graph by ranking different cultures on two dimensions, which are survival versus self-expression and traditional versus secular-rational. If you divide countries in these two ways, then the whole world makes sense by geography. e.g., protestant Europe is in the self-expressive secular realm while Islamic and African countries are more in the religious and survival-based area.</p>
<p>This map might suggest that all people from Sweden or Zimbabwe score the same. That is not true. Each country has a population and within this population there are differences. The point on the graph is just an average. The individual data points are clouds. But there is very little overlap between the scores of individuals in Sweden and Zimbabwe, so there is a difference between people from Sweden and Zimbabwe, but also differences within the Swedish people and within the people from Zimbabwe.</p>
<p><a href="https://en.wikipedia.org/wiki/Geert_Hofstede">Geert Hofstede</a>, who focused on the business world, uses five dimensions to make sense of cultures, which are:</p>
<ol type="1">
<li>Power distance or how much inequality is tolerated,</li>
<li>Uncertainty avoidance versus risk taking,</li>
<li>Individualism versus collectivism,</li>
<li>Masculinity versus femininity, and</li>
<li>Confucianism versus dynamism or how forward looking are you?</li>
</ol>
<p>The US scores are: power distance 32 (a low value signaling a lot of inequality tolerance), uncertainty avoidance 40 (low), individualism 90 (very high), and masculinity 60 (high). The scores of France are: power distance 61 (a high value signaling little inequality tolerance), uncertainty avoidance 80 (very high), individualism 63 (high), and masculinity 32 (low). Those dimensions are useful because they capture differences. But those dimensions don’t capture everything. e.g., South Korea and El Salvador score practically the same on Hofstede’s dimension, but they are completely different countries.</p>
<p>Why should we care about culture? This is because the economy, political systems and society work through social exchanges. According to Kenneth Arrow:</p>
<blockquote class="blockquote">
<p>Virtually every commercial transaction has within itself an element of trust, certainly any transaction conducted over a period of time. It can be plausibly argued that much of the economic backwardness in the world can be explained by the lack of mutual confidence.</p>
</blockquote>

<div class="no-row-height column-margin column-container"><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/mt_trust.jpg" class="img-fluid figure-img"></p>
<figcaption>Wealth versus trust</figcaption>
</figure>
</div></div><p>In cultures there are different levels of trust, and these different levels of trust have huge implications for how well political, economic, social, and religious institutions perform in terms of meeting the needs of the citizens. Bob Solow, who invented the growth model, wanted these notions of trust and social capital to be measurable in some way. That is one of the reasons why we have models like those of Inglehart and Hofstede.</p>
<p>How do you measure something like trust? This can be done using questions like do you claim government benefits you are not entitled to? Do you avoid paying a fare on public transport? Do you cheat on your taxes? Do you keep money if you found it? Do you fail to report damage you’ve done accidentally to a parked vehicle? These sort of questions indicate how trusting are people within a society.</p>
<p>You can also ask the question, do you think people in general can be trusted? There are massive differences across countries. In Sweden 70% of people answer this question positively. In Italy, it is 33%, and in Turkey it is only 10%. That is going to affect how well the economy is going to work.</p>
<p>It does matter a lot, because in general, rich countries have a higher level of trust. There is a correlation between trust and wealth, but that doesn’t imply that trust causes higher levels of wealth even though that seems plausible. It might also be that higher levels of wealth make people more trustworthy.</p>
</section>
<section id="sec-pure-coordination-game" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="sec-pure-coordination-game">Pure coordination game</h2>
<p>To make sense of cultural differences, a <a href="https://en.wikipedia.org/wiki/Coordination_game">pure coordination game</a> can be used. Some examples help to understand the pure coordination game. The ketchup question is do you store your ketchup in the fridge or the cupboard? Most Americans store their ketchup in the fridge, but people from England tend to store it in the cupboard. Where you store your ketchup is a cultural decision. You store it in the same place other people store their ketchup. This is an example of a coordination game. It is a situation where you do the same thing other people do, otherwise they can’t find the ketchup.</p>

<div class="no-row-height column-margin column-container"><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/mt_dagenh.jpg" class="img-fluid figure-img"></p>
<figcaption>Dagen H logo</figcaption>
</figure>
</div></div><p>Other examples are electrical outlet plugs. Different countries have different plug configurations. Everybody in the country wants to coordinate on the same plug type, but different countries may coordinate on different types of plugs. The ramifications of failure to coordinate can be rather severe.</p>
<p>On the third of September in 1967 (Dagen H) at 4:00 AM, Sweden switched the side of the road they drove on from left to right. People from Sweden drove to other countries and caused accidents. It is also easier to make cars with steering wheels on the same side. England and some former British colonies still drive on the left. Those countries are mostly islands. On an island, you don’t have to worry about crossing a border and causing an accident. That is a coordination game.</p>

<div class="no-row-height column-margin column-container"><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/mt_pure_coordination.jpg" class="img-fluid figure-img"></p>
<figcaption>Pure coordination game</figcaption>
</figure>
</div></div><p>This can be turned into a formal game. A game is a set of players with actions and payoffs. In the pure coordination game there are two players, and each player has one action. e.g., they can put the ketchup in the fridge or they can put it in the cupboard. If they both put their ketchup in the fridge, both get a payoff of one. If they both put their ketchup in the cupboard, both also get a payoff of one. But if one of them one puts it in the cupboard, and the other one puts it in the fridge, then each player gets zero because neither one can find the ketchup.</p>

<div class="no-row-height column-margin column-container"><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/mt_nperson.jpg" class="img-fluid figure-img"></p>
<figcaption>N-person coordination game</figcaption>
</figure>
</div></div><p>The game can be expanded to <span class="math inline">\(N\)</span> persons that have to decide about something like driving left or right or whether the ketchup should be stored in the fridge or in the cupboard. Assume that they play this game against their two neighbors and switch their behavior if both neighbors behave differently. Because people want to coordinate their behavior to match other people they change their behavior to create the similarities within. After three steps you also see differences between groups emerging.</p>
<p>Does this game actually lead to similarities? Does this process stop or does it keep on churning? The answer can be found using the Lyapunov functions. If the process can be represented by a function that has a maximum, and it goes up by at least some fixed amount each time if it moves, then the process is going to stop at some point.</p>
<p>If this pure coordination game is played asymmetrically, that means having only one person moving at a time, which is unlike the example in the graph, then you can show that it satisfies the Lyapunov function of the number of coordinations. e.g., if someone switches to blue, the number of coordination goes up by two. There is also a maximum to the number of coordinations, meaning that everyone has the same color, so the process has to stop. The process doesn’t have to stop with everybody being the same as you can get a boundary between the colors.</p>

<div class="no-row-height column-margin column-container"><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/mt_inefficient.jpg" class="img-fluid figure-img"></p>
<figcaption>Inefficient coordination</figcaption>
</figure>
</div></div><p>There is a difference between coordination and the standing ovation problem. In the coordination model, e.g.&nbsp;choosing the side of the road to drive on, there is a measurable difference in payoffs so no-one would choose not to coordinate. In the standing ovation model it is more a psychological effect. It is no problem to differ from other people.</p>
<p>Inefficient coordination refers to behavior that doesn’t seem optimal. To make sense why this happens, you can use the inefficient coordination game. It may apply to implementing the metric system <span class="math inline">\(M\)</span> versus the obscure English system of measurements <span class="math inline">\(D\)</span>. If both parties agree on <span class="math inline">\(M\)</span>, they get a payoff of 2. If both agree on <span class="math inline">\(D\)</span>, they get a payoff of 1. If they differ, they get a payoff of 0. If both parties were free to choose they would agree on <span class="math inline">\(M\)</span>, but in England people are stuck with <span class="math inline">\(D\)</span>.</p>
<p>How do you get inefficiency? The metric system wasn’t around when the English measurements were made up. Situations can shift. This can be explained with the shake-bow game. Greeting people is a coordination game. It is important that we greet people the same way. If one shakes and the other bows, eyes get poked out. If both shake hand, they get a payoff of 1. If one shakes and one bows, we both get 0. If both bow, bot get a payoff of <span class="math inline">\(a\)</span>.</p>
<p>The question is: which is better, bowing <span class="math inline">\(a &gt; 1\)</span> or shaking <span class="math inline">\(a &lt; 1\)</span>? Shaking could be better than bowing because people can get a sense of the other’s general health by feeling. However, recently the value of <span class="math inline">\(a\)</span> has increased because people now travel all over the world in airplanes with germs over the seats and touching these seats spreads germs all over the hands. And then bowing is better than shaking because the world has changed. As a result, countries that are shaking could get stuck in a suboptimal way of greeting, just like England is stuck in a suboptimal system of measurements.</p>
</section>
<section id="sec-emergence-of-culture" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="sec-emergence-of-culture">Emergence of culture</h2>
<p>To understand why cultures differ, the pure coordination game is extended to multiple games. Culture is the result of lots of coordination games. Here are some example questions. Do people wear shoes in your house? Do you cross the street when the “don’t walk” sign is flashing? Do you read the newspaper at the breakfast table or are you talking to people? Do you hug your friends when you see them? And do you interrupt someone who’s talking?</p>
<p>Each of these situations is a pure coordination game. If everybody else is wearing shoes in the house, you don’t want to take your shoes off cause you will get dirt all over your feet. If you are walking with friends, and they don’t cross the street when the sign is flashing and you do, then they will be standing on one side of the street and you will be standing on the other. If you read the newspaper at the breakfast table and the other person is hoping to engage in conversation, he is going to stare at your newspaper. If you’re in a culture where people don’t interrupt and somebody interrupts you, this disrupts the flow of the conversation.</p>
<p>People that give the same answers to these questions are culturally similar. If there are 20 coordination games with two possible answers to each, then you have 220 or more than 1,000,000 possible cultures. There are of course more coordination games, and many of them have more than two answers, so there are many more possible cultures. Why do cultures differ? The paradoxical answer is they differ because everyone is trying to coordinate. People are trying to coordinate within a culture most likely on issues that are different than those in others cultures.</p>

<div class="no-row-height column-margin column-container"><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/mt_axelrod.jpg" class="img-fluid figure-img"></p>
<figcaption>Axelrod’s definitions</figcaption>
</figure>
</div></div><p><a href="https://en.wikipedia.org/wiki/Robert_Axelrod">Robert Axelrod’s</a> culture model <span class="citation" data-cites="Axelrod1997DisseminationofCulture">[@Axelrod1997DisseminationofCulture]</span> explains how cultures emerge, and why there are boundaries between cultures. Axelrod defines a set of features which are coordination games like whether you read the newspaper at the table or talk. Traits define what action you take on that feature, e.g.&nbsp;talk. There could be multiple options. A person is a vector of traits on features. For instance, person A wears shoes in the house, stores ketchup in the fridge, and reads the newspaper at the table.</p>

<div class="no-row-height column-margin column-container"><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/mt_social_space.jpg" class="img-fluid figure-img"></p>
<figcaption>Social space</figcaption>
</figure>
</div></div><p>Axelrod then puts people in social space that could be represented by a grid of boxes that represent people. The last assumption Axelrod makes, is that people interact with their four direct neighbors in the grid with a probability that is equal to the similarity between them. This interaction works like a coordination game.</p>
<p>If you don’t agree on much with your neighbor then you don’t interact and don’t change your behavior. If you agree on everything then you interact for sure, but then you don’t have to change anything. If you agree for 70% of the traits, then you randomly pick a feature, and then match the trait of that person. It could be you already match that person on that trait, but if you don’t then you will switch and match.</p>

<div class="no-row-height column-margin column-container"><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/mt_axelrod_game.jpg" class="img-fluid figure-img"></p>
<figcaption>Axelrod’s game</figcaption>
</figure>
</div></div><p>This can be worked out using a model. Suppose there are five features, ten values, four neighbors (North, South, East, West), and the similarity is the percentage of traits that a person agrees with the another person. When two people meet, one of them is a leader while the other is a follower. e.g., the leader may have the characteristics 53211 and the follower 51331.</p>
<p>The probability these two people are going to interact is 40% because they agree on two traits out of five. If they decide to interact, then then they decide play a coordination game on one of the traits, e.g.&nbsp;the second trait. The follower then matches this trait to the leader so that his characteristics become 53311.</p>

<div class="no-row-height column-margin column-container"><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/mt_game_start.jpg" class="img-fluid figure-img"></p>
<figcaption>Start of game</figcaption>
</figure>
</div><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/mt_game_end.jpg" class="img-fluid figure-img"></p>
<figcaption>End of game</figcaption>
</figure>
</div></div>
<p>This can be simulated using NetLogo. In this example there are five features and twelve traits. In the centre of each square is a person. The thickness of the boundary represents the number of treats those two people agree on and thus the likelihood they will interact. If that line is dark, there is little agreement, and if it’s lighter, there is more agreement and a higher probability of interaction.</p>
<p>Over time the number of regions are falling and the cultures are becoming more similar. The largest region is also growing but there is still some cultural <strong>heterogeneity</strong>. And if we let it run till it stops, you get a few separate cultures and there are thick boundaries around them. They have to have these thick boundaries because if they didn’t, people would interact with their neighbors across those boundaries and become similar.</p>
<p>Axelrod’s model shows that similar regions emerge, so that you get multiple cultures, but the boundaries between those cultures are thick. Axelrod then concludes that if our neighbors are like us, we tend to interact with them, and if they are not, we tend not to. This produces distinct cultures with thick boundaries or vast differences between these cultures. Thick boundaries emerge because of the fact that if there weren’t thick, then people would interact and become more similar so that the boundary would disappear. Axelrod’s model shows how distinct cultures on multi dimensions can emerge with self-reinforcing boundaries.</p>
</section>
<section id="sec-coordination-and-consistency" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="sec-coordination-and-consistency">Coordination and consistency</h2>
<p>Axelrod’s model leaves out the notion of consistency within a culture. <a href="https://en.wikipedia.org/wiki/Jenna_Bednar">Jenna Bednar</a> developed a model of culture based on coordination games that includes <strong>coherence</strong> and <strong>consistency</strong> as well as the <strong>heterogeneity</strong> within cultures. In Ron Inglehart’s World Value Survey, there are a lot of consistencies across countries, e.g.&nbsp;Protestant Europe looks the same, Catholic Europe looks the same and the Islamic countries look the same. On the other hand, everybody hasn’t the same characteristics. e.g., people in Sweden differ. And the same is true for Zimbabwe.</p>
<p>To explain why there is consistency and <strong>heterogeneity</strong> within a culture we assume that:</p>
<ol type="1">
<li>the values, actions, and behaviors that people coordinate on have some meaning;<br>
</li>
<li>people desire some consistency, e.g.&nbsp;to avoid cognitive dissonance;<br>
</li>
<li>there is some innovation and errors.</li>
</ol>
<p>The coordination rule is that two people, that each have a vector of actions, beliefs or attitudes, meet, and the follower randomly picks a dimension, and coordinates on this dimension, e.g.&nbsp;he puts the ketchup where his friend puts the ketchup. Consistency would be this that a person looks at himself, and attribute values of the vector have meaning. e.g., a person with characteristics 5144 might think, I’m 5 on the first and 1 on the second, and that doesn’t make sense, so I switch and become 5 on the second. And so the characteristics of this person become 5544.</p>
<p>e.g., you come from a family that is pretty reserved, so you don’t even hug your parents very often, and have hugging behavior 1. Then you go to college and all your friends hug each other. Now you have hugging behavior 5 with your friends. When you go home you realise you have been hugging someone you just met a month ago to say good-bye so you start hugging your mother and change your behavior to 5. If you hug your friends, you might as well hug your mother. In this way you become more consistent in terms of how you behave.</p>

<div class="no-row-height column-margin column-container"><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/mt_innovation.jpg" class="img-fluid figure-img"></p>
<figcaption>Innovation spreading</figcaption>
</figure>
</div></div><p>If we assume that people try to coordinate with other people, and try to be consistent, it could be expected to lead to consistent coordinated behavior. It happened but the process took an incredibly long time to converge. When some tiny errors or innovations were introduced, then there were big spreads in the characteristics of individuals like those in Sweden and Zimbabwe. Only a small number of people have to try new things, to get that level of <strong>heterogeneity</strong> within a community.</p>
<p>That was a surprising result. The question is why? Suppose the model converges to everybody being 5 on everything and somebody decides to innovate a bit and change to 6 on one thing. We might think that this should go away because people try to be consistent with themselves or meet somebody else so that it gets corrected to 5.</p>
<p>Another possibility is that during an interaction somebody else copies the 6 or that people themselves switch other attributes to 6 in order to be more consistent. In this way the six can spread within a person (horizontally in the graph) and across people (vertically in the graph). If more of such innovations or errors are made, e.g.&nbsp;switching to 7, these can also spread. This means the process isn’t going to converge very fast. There is a lot of spread because errors propagate in many directions. Most traits are going to be fives, but there will be sixes and sevens everywhere.</p>
<p>It is possible to mathematically understand why small amounts of error can cause a big spread. The simplest model consists of two agents, two games, and two actions. e.g.&nbsp;two people are deciding whether to hug or bow with their family, or hug or bow with their friends. Now it is possible to write down all possible states of the world. The columns represent the games. The rows represent the persons.</p>

<div class="no-row-height column-margin column-container"><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/mt_states.jpg" class="img-fluid figure-img"></p>
<figcaption>States of the world</figcaption>
</figure>
</div></div><p>The following could happen:</p>
<ol type="1">
<li>both do the same thing on both games, e.g.&nbsp;action red;<br>
</li>
<li>one person is taking one action on both games, but the other person is taking the other action one game, which is called off by one;<br>
</li>
<li>they could be consistent but not coordinated, e.g.&nbsp;one person is green on both, and the other person is red on both;<br>
</li>
<li>they could be coordinated but not consistent, e.g.&nbsp;they could both play the red action on one game and the green action on the other game, but they would have a lot of cognitive dissonance because neither one is consistent;<br>
</li>
<li>they could be not coordinated and not consistent, which could be a total mess.</li>
</ol>

<div class="no-row-height column-margin column-container"><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/mt_consistency_dynamic.jpg" class="img-fluid figure-img"></p>
<figcaption>Consistency dynamic</figcaption>
</figure>
</div></div><p>If this system is without an error, the dynamics can be described. e.g., in the state where people are off by one, the consistency dynamic is as follows:</p>
<ol type="1">
<li>person 2 could look at himself, check for consistency, and conclude that he is consistent, and nothing would change;<br>
</li>
<li>person 1 could look at herself, check for consistency, and conclude that she is not consistent, and switch both actions to red. Then both would be consistent, but neither would be coordinated;<br>
</li>
<li>person 2 could look at herself, check for consistency, and conclude that she is not consistent, and switch both actions to green. If person 1 finds herself to be inconsistent, then there is a 50% chance for (2) to happen as well as a 50% chance for (3) to happen.</li>
</ol>

<div class="no-row-height column-margin column-container"><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/mt_transition_map.jpg" class="img-fluid figure-img"></p>
<figcaption>Transition map</figcaption>
</figure>
</div></div><p>It is also possible to write down the coordination dynamic for all the different states including the probability of moving from those states to other states. e.g., if there is a total mess (top), and one of the persons looks at himself or herself and decides to become consistent, then they move to the off by one state (centre). Alternatively, suppose that two people may decide to coordinate. Then again, they move to the off by one state. No matter what happens, with probability they move from the total mess state to the off by one state.</p>
<p>In the off by one state (centre), a lot could happen. They could stay in the off by one state, e.g.&nbsp;when person 2 looks at himself and decides that he is consistent, or if these two people decide to coordinate on action 1. Alternatively, it would be possible to move over to the state consistent but not coordinated (right) or coordinated but not consistent (bottom). Finally, they could move to the coordinated and consistent state (left). This is the only state that is stable because they will not move out.</p>

<div class="no-row-height column-margin column-container"><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/mt_matrix_05.jpg" class="img-fluid figure-img"></p>
<figcaption>Markov process</figcaption>
</figure>
</div></div><p>This is like a Markov process, except that they can’t get from any state to any other state because they can get stuck in the equilibrium coordinated and consistent state. If there is innovation or error <span class="math inline">\(ε\)</span> then they can move back to the off by one state and then it is a Markov process.</p>
<p>In this way it becomes possible to write a matrix we with the horizontal axis representing the states at time <span class="math inline">\(t\)</span> and the vertical axis representing the states at time <span class="math inline">\(t+1\)</span>. The cells represent the odds of moving from one state to the other. This model shows that small innovation rates lead to substantial <strong>heterogeneity</strong>. This was a big surprise.</p>
<p>There are differences between cultures, so people from France behave differently than people from Mexico. There are also see similarities within, meaning that people within an interacting group become similar. Their behavior isn’t identical and there is a lot of within-group <strong>heterogeneity</strong>, e.g.&nbsp;in Sweden or Zimbabwe. Some of that behavior is interesting in the sense that it doesn’t appear to be optimal from the outside. e.g., people might do 5 to become consistent, even though it is not optimal.</p>
<p>There are three ways people can coordinate on a wrong action:</p>
<ol type="1">
<li>by <strong>idiosyncratic coordination</strong> on the wrong thing.</li>
<li>payoffs can change over time, e.g.&nbsp;with bowing versus shaking hands.</li>
<li>to <strong>maintain consistency</strong>, people could choose a behavior that is not optimal in one domain.</li>
</ol>
<p>Culture can be seen as multiple coordination games, where people are trying be consistent. To get good outcomes, it’s important to coordinate behavior, e.g.&nbsp;to greet people the same way. There is still a lot of within-group <strong>heterogeneity</strong> that could be explained by assuming that there is a small amount of error and experimentation as errors propagate in two directions. This could be shown using a Markov model.</p>
<p>Pure coordination behavior creates a Lyapunov function so this process converges quickly.</p>
<p>If we include consistency and error then we no longer have a Lyapunov function , but we could use a Markov model.</p>
<p>The Lyapunov model and the Markov model can be used to explain other models like the culture model.</p>
<p>Even though culture is complex, simple models allow us to understand some basic properties of cultures, such as difference between cultures, consistency within cultures, and <strong>heterogeneity</strong> within cultures.</p>
<section id="references" class="level3">
<h3 class="anchored" data-anchor-id="references">References</h3>
<p>Note: this page is based on the following source:</p>
<ul>
<li><span class="citation" data-cites="page2017modelthinking">[@page2017modelthinking]</span> MOOC, Course material &amp; Transcripts.</li>
<li>TA Notes by <span class="citation" data-cites="fisher2017modelthinking">[@fisher2017modelthinking]</span>.</li>
<li>Student notes by in <span class="citation" data-cites="kleinikink2016naturalmoney">[@kleinikink2016naturalmoney]</span> and <span class="citation" data-cites="groh2017model">[@groh2017model]</span>.</li>
</ul>
<div id="refs" role="list">

</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/OrenBochman\.github\.io\/notes-model-thinking\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>